var mobileView=window.matchMedia("(max-width: 768px)");!function(a){function b(){mobileView.matches?a(".host-widet-wraper").prependTo("#primary"):a(".host-widet-wraper").insertAfter(".user-widet-wraper")}a(document).ready(function(){b()}),a(window).resize(function(){b()}),a("#host-edit-group").click(function(){return a("#postbox").show(),!1}),a(".rah-form input#group_input").on("input",function(){var b={action:"rah_group_listing",group:a(this).val()};return 0===b.group.length?!1:(a(".rah-loading").css("display","inline-block"),a.post("/wp-admin/admin-ajax.php",b,function(b){a("#response").html(b),a(".rah-loading").css("display","none")}),void 0)}),a("input#is_secret").click(function(){a(".rah-form form .alerts").remove();var b=a(this).prop("checked");if(b){a("#group_input").hide(),a(".rah-loading").css("display","inline-block");var c={action:"rah_secret_group_listing"};a.post("/wp-admin/admin-ajax.php",c,function(b){a("#response").html(b),a(".rah-loading").css("display","none")})}else a("#group_input").show(),a("#group_name").hide(),a("#response").html("")}),a("#group_not_listed").on("click",function(){a(".rah-form form .alerts").remove();var b=a(this).prop("checked");b?(a("#existing_groups").attr("disabled","disabled"),a("#new_secret_group").show()):(a("#existing_groups").removeAttr("disabled"),a("#new_secret_group").hide())}),a("#zip_code").on("keyup",function(){var b=a(this).val().length,c=5==b,d=a("#verify_zip_code");c?d.removeAttr("disabled"):d.attr("disabled","disabled")}),a("#verify_zip_code").on("click",function(b){b.preventDefault();var c={action:"rah_verify_zip",zip:a("#zip_code").val()};return c.zip.length<5?!1:(a(this).hide().next(".rah-loading").css("display","inline-block"),a("#city_state").text(""),a.post("/wp-admin/admin-ajax.php",c,function(b){"0"!=b?a("#city_state").text(b):a("#city_state").text("No City or State information found for postal code"),a("#verify_zip_code").show().next(".rah-loading").hide()}),void 0)}),a("#issues_na").change(function(){var b=a(this).prop("checked"),c=a(this).parent().prev("div.rating-input");b?c.hide():c.show()}),a(".rah-form form #submit").submit(function(){a(".rah-form form .alerts").remove();var b=a(this).attr("id");if("new_host"==b){var c=0,d=a("#is_secret").prop("checked"),e=a("input[name=group_id]:checked").val();if(d===!1&&"undefined"==typeof e?(a("#group_input").before('<p class="alerts error">Group URL is Required if your group is not secret.</p>'),c+=1):d===!0&&(a("#group_not_listed").prop("checked")?""===a("#new_secret_group_title").val().trim()&&(a("#new_secret_group").before('<p class="alerts error">A Group Name Is Required</p>'),c+=1):"-1"===a("#existing_groups").val()&&(a("#existing_secret").before('<p class="alerts error">Please select a group name from the list</p>'),c+=1)),c>0)return!1}else if("review_host"==b||"edit_review"==b){var f=a("#title").val().trim();a("#comments").val().trim();var h=0;a(".rah-form form .rating").each(function(b,c){h+=parseInt(a(c).val(),10)});var c=0;if(("undefined"==typeof f||0===f.length)&&(a("#title").before('<p class="alerts error">A Review Summary is Required</p>'),c+=1),0===h){var i=confirm("Ooops! You did not enter any star ratings. Submit review?");i!==!0&&(c+=1,a("#xpost").after('<p class="alerts notice">Please add some ratings</p>'))}if(c>0)return window.scrollTo(0,0),!1}});var c={init:function(){this.process_distance_search()},process_distance_search:function(){a("#submit-host-search").click(function(){a("#zip_code").css("border","1px solid rgba(0, 0, 0, 0.05)").css("background-color","#f9f9f9");var c=a("#zip_code").val(),d=a("#distance").val(),e=a('input[name="_wpnonce"]').val(),f="rah_search_hosts_distance";if(""==c||c.length<5)return a("#zip_code").css("border","1px solid #993333").css("background-color","#FFCCCC"),!1;a(".rah-loading").css("display","inline-block"),a(this).attr("disabled","disabled");var g={action:f,zip:c,distance:d,nonce:e};a.post("/wp-admin/admin-ajax.php",g,function(b){return b.error?(alert(b.error),!1):(a("#submit-host-search").removeAttr("disabled"),a(".rah-loading").css("display","none"),a("#chosen-distance").text(d),a("#chosen-zip").text(c),a(".results-set").html(b),a(".search-results").show(),void 0)})})}};c.init()}(jQuery);

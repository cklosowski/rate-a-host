var mobileView=window.matchMedia("(max-width: 768px)");!function(e){function r(){mobileView.matches?e(".host-widet-wraper").prependTo("#primary"):e(".host-widet-wraper").insertAfter(".user-widet-wraper")}e(document).ready(function(){r()}),e(window).resize(function(){r()}),e("#host-edit-group").click(function(){return e("#postbox").show(),!1}),e(".rah-form input#group_input").on("input",function(){var r={action:"rah_group_listing",group:e(this).val()};return 0===r.group.length?!1:(e(".rah-loading").css("display","inline-block"),void e.post("/wp-admin/admin-ajax.php",r,function(r){e("#response").html(r),e(".rah-loading").css("display","none")}))}),e("input#is_secret").click(function(){e(".rah-form form .alerts").remove();var r=e(this).prop("checked");if(r){e("#group_input").hide(),e(".rah-loading").css("display","inline-block");var i={action:"rah_secret_group_listing"};e.post("/wp-admin/admin-ajax.php",i,function(r){e("#response").html(r),e(".rah-loading").css("display","none")})}else e("#group_input").show(),e("#group_name").hide(),e("#response").html("")}),e("#group_not_listed").on("click",function(){e(".rah-form form .alerts").remove();var r=e(this).prop("checked");r?(e("#existing_groups").attr("disabled","disabled"),e("#new_secret_group").show()):(e("#existing_groups").removeAttr("disabled"),e("#new_secret_group").hide())}),e("#zip_code").on("keyup",function(){var r=e(this).val().length,i=5==r,t=e("#verify_zip_code");i?t.removeAttr("disabled"):t.attr("disabled","disabled")}),e("#verify_zip_code").on("click",function(r){r.preventDefault();var i={action:"rah_verify_zip",zip:e("#zip_code").val()};return i.zip.length<5?!1:(e(this).hide().next(".rah-loading").css("display","inline-block"),e("#city_state").text(""),void e.post("/wp-admin/admin-ajax.php",i,function(r){e("#city_state").text("0"!=r?r:"No City or State information found for postal code"),e("#verify_zip_code").show().next(".rah-loading").hide()}))}),e("#issues_na").change(function(){var r=e(this).prop("checked"),i=e(this).parent().prev("div.rating-input");r?i.hide():i.show()}),e(".rah-form form #submit").submit(function(){e(".rah-form form .alerts").remove();var r=e(this).attr("id");if("new_host"==r){var i=0,t=e("#is_secret").prop("checked"),o=e("input[name=group_id]:checked").val();if(t===!1&&"undefined"==typeof o?(e("#group_input").before('<p class="alerts error">Group URL is Required if your group is not secret.</p>'),i+=1):t===!0&&(e("#group_not_listed").prop("checked")?""===e("#new_secret_group_title").val().trim()&&(e("#new_secret_group").before('<p class="alerts error">A Group Name Is Required</p>'),i+=1):"-1"===e("#existing_groups").val()&&(e("#existing_secret").before('<p class="alerts error">Please select a group name from the list</p>'),i+=1)),i>0)return!1}else if("review_host"==r||"edit_review"==r){var s=e("#title").val().trim(),n=(e("#comments").val().trim(),0);e(".rah-form form .rating").each(function(r,i){n+=parseInt(e(i).val(),10)});var i=0;if(("undefined"==typeof s||0===s.length)&&(e("#title").before('<p class="alerts error">A Review Summary is Required</p>'),i+=1),0===n){var a=confirm("Ooops! You did not enter any star ratings. Submit review?");a!==!0&&(i+=1,e("#xpost").after('<p class="alerts notice">Please add some ratings</p>'))}if(i>0)return window.scrollTo(0,0),!1}});var i={init:function(){this.process_distance_search()},process_distance_search:function(){e("#submit-host-search").click(function(){e("#zip_code").css("border","1px solid rgba(0, 0, 0, 0.05)").css("background-color","#f9f9f9");var r=e("#zip_code").val(),i=e("#distance").val(),t=e('input[name="_wpnonce"]').val(),o="rah_search_hosts_distance";if(""==r||r.length<5)return e("#zip_code").css("border","1px solid #993333").css("background-color","#FFCCCC"),!1;e(".rah-loading").css("display","inline-block"),e(this).attr("disabled","disabled");var s={action:o,zip:r,distance:i,nonce:t};e.post("/wp-admin/admin-ajax.php",s,function(t){return ga("send","event",{eventCategory:"search",eventAction:"host",eventLabel:"distance",eventValue:i}),t.error?(alert(t.error),!1):(e("#submit-host-search").removeAttr("disabled"),e(".rah-loading").css("display","none"),e("#chosen-distance").text(i),e("#chosen-zip").text(r),e(".results-set").html(t),e(".search-results").show(),void 0)})})}};i.init()}(jQuery);
